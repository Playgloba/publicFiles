function getContextPath(){return window.location.pathname.substring(0,window.location.pathname.indexOf("/",2))}function programSearch(){$("form[id=programSearch]").submit(function(e){return!1});var e=getContextPath()+"/sportsclasses?searchTerm="+$("#searchTerm").val()+"&postalCode="+$("#postalCode").val()+"&distance="+$("#distance").val();$.ajax({type:"GET",url:e,success:function(a){window.location=e},error:function(){$("#errorDiv").html("An Error Occurred while searching")}})}function applyFilter(e,a){a.checked?callFilter(e):clearFilter(e)}function callFilter(e){$("#loader").removeClass("loaded");var a=getUrlToCall(e);$.ajax({type:"GET",url:a,success:function(e){$("#loader").addClass("loaded"),window.location=a},error:function(){$("#loader").addClass("loaded"),$(".alert-danger").show(),setTimeout("$('.alert-danger').fadeOut(); ",4e3)}})}function clearTopFilter(e){$("#loader").removeClass("loaded");var a=e.split(":");if("eventdate"==a[0].trim()){var t=a[1].slice(1,-1).split(" TO ");clearFilter("eventdate:["+t[0]+"T00:00:00Z TO "+t[1]+"T00:00:00Z]")}else clearFilter(a[0].trim()+":"+a[1].trim())}function clearFilter(e){var a=getUrlParameter("numItemsPerPage"),t=getUrlParameter("sort"),r="",l=getUrlParameter("filter").split("::");for(i=0;i<l.length;i++)if(l[i].includes(" AND ")){var o=l[i].split(":")[0],n=l[i].split(":")[1].split(" AND "),c="";for(k=0;k<n.length;k++)o+":"+n[k]!=e&&(c=c.concat(n[k]).concat(" AND "));" AND "==c.substr(c.length-5)&&(c=c.slice(0,-5)),r=r.concat(o+":"+c),i!=l.length-1&&(r=r.concat("::"))}else l[i]!=e&&(r=r.concat(l[i]),i!=l.length-1&&(r=r.concat("::")));if(":"==r.charAt(r.length-1)&&(r=r.slice(0,-2)),null==r||""==r)var s=paginateURLToCall(null,"1",a,t);else s=paginateURLToCall(r,"1",a,t);$.ajax({type:"GET",url:s,success:function(e){$("#loader").addClass("loaded"),window.location=s},error:function(){$("#loader").addClass("loaded"),$(".alert-danger").show(),setTimeout("$('.alert-danger').fadeOut(); ",4e3)}})}function paginate(e,a,t){$("#loader").removeClass("loaded");var r=paginateURLToCall(getUrlParameter("filter"),e,a,t);$.ajax({type:"GET",url:r,success:function(e){$("#loader").addClass("loaded"),window.location=r},error:function(){$("#loader").addClass("loaded"),$(".alert-danger").show(),setTimeout("$('.alert-danger').fadeOut(); ",4e3)}})}function paginateURLToCall(e,a,t,r){var l=getContextPath()+"/sportsclasses?searchTerm="+getUrlParameter("searchTerm")+"&postalCode="+getUrlParameter("postalCode")+"&distance="+getUrlParameter("distance");return null!=e&&(l=l+"&filter="+e),null!=a&&(l=l.concat("&pageNum=").concat(a)),null!=t&&(l=l.concat("&numItemsPerPage=").concat(t)),null!=r&&(l=l.concat("&sort=").concat(r)),l}function getUrlParameter(e){url=window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(url);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}function getUrlToCall(e){var a=getUrlParameter("searchTerm"),t=getUrlParameter("postalCode"),r=getUrlParameter("distance"),l=getUrlParameter("numItemsPerPage"),o=getUrlParameter("sort"),n=getUrlParameter("filter"),c="";if(null!=n){var s=[],d=n.split("::");for(i=0;i<d.length;i++)s.push(d[i].split(":")[0]);if(s.includes(e.split(":")[0]))for(i=0;i<d.length;i++){var u=d[i].split(":")[0],g=d[i].split(":")[1],m=e.split(":")[0],p=e.split(":")[1];if(u==m){if("eventdate"==u)c=c.concat(e);else if(!g.split(" AND ").includes(p)){var f=d[i].split(":")[1].concat(" AND ").concat(e.split(":")[1]);c=c.concat(m.concat(":").concat(f))}}else c=c.concat(d[i]);i!=d.length-1&&(c=c.concat("::"))}else c=n.concat("::").concat(e)}else c=e;var $=getContextPath()+"/sportsclasses";return null!=a&&($=$.concat("?searchTerm=").concat(a)),null!=t&&($=$.concat("&postalCode=").concat(t)),null!=r&&($=$.concat("&distance=").concat(r)),null!=c&&($=$.concat("&filter=").concat(c)),$=$.concat("&pageNum=").concat("1"),null!=l&&($=$.concat("&numItemsPerPage=").concat(l)),null!=o&&($=$.concat("&sort=").concat(o)),$}function clearAll(){$("#loader").removeClass("loaded");var e=paginateURLToCall(null,"1",getUrlParameter("numItemsPerPage"),getUrlParameter("sort"));$.ajax({type:"GET",url:e,success:function(a){$("#loader").addClass("loaded"),window.location=e},error:function(){$("#loader").addClass("loaded"),$(".alert-danger").show(),setTimeout("$('.alert-danger').fadeOut(); ",4e3)}})}